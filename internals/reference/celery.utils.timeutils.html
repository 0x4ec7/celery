
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Time and Date Utilities - celery.utils.timeutils &mdash; Celery v2.1.0a6 documentation</title>
    <link rel="stylesheet" href="../../static/celery.css" type="text/css" />
    <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2.1.0a6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../static/jquery.js"></script>
    <script type="text/javascript" src="../../static/underscore.js"></script>
    <script type="text/javascript" src="../../static/doctools.js"></script>
    <link rel="top" title="Celery v2.1.0a6 documentation" href="../../index.html" />
    <link rel="up" title="Internal Module Reference" href="index.html" />
    <link rel="next" title="Debugging Info - celery.utils.info" href="celery.utils.info.html" />
    <link rel="prev" title="Terminal Utilities - celery.utils.term" href="celery.utils.term.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="celery.utils.info.html" title="Debugging Info - celery.utils.info"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="celery.utils.term.html" title="Terminal Utilities - celery.utils.term"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Celery v2.1.0a6 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Internals</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Internal Module Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="time-and-date-utilities-celery-utils-timeutils">
<h1>Time and Date Utilities - celery.utils.timeutils<a class="headerlink" href="#time-and-date-utilities-celery-utils-timeutils" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-celery.utils.timeutils"></span><dl class="function">
<dt id="celery.utils.timeutils.delta_resolution">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">delta_resolution</tt><big>(</big><em>dt</em>, <em>delta</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.delta_resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Round a datetime to the resolution of a timedelta.</p>
<p>If the timedelta is in days, the datetime will be rounded
to the nearest days, if the timedelta is in hours the datetime
will be rounded to the nearest hour, and so on until seconds
which will just return the original datetime.</p>
</dd></dl>

<dl class="function">
<dt id="celery.utils.timeutils.rate">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">rate</tt><big>(</big><em>rate</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses rate strings, such as <tt class="docutils literal"><span class="pre">&quot;100/m&quot;</span></tt> or <tt class="docutils literal"><span class="pre">&quot;2/h&quot;</span></tt>
and converts them to seconds.</p>
</dd></dl>

<dl class="function">
<dt id="celery.utils.timeutils.remaining">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">remaining</tt><big>(</big><em>start</em>, <em>ends_in</em>, <em>now=None</em>, <em>relative=True</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.remaining" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the remaining time for a start date and a timedelta.</p>
<p>E.g. &#8220;how many seconds left for 30 seconds after <tt class="docutils literal"><span class="pre">start</span></tt>?&#8221;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> &#8211; Start <tt class="xref py py-class docutils literal"><span class="pre">datetime.datetime</span></tt>.</li>
<li><strong>ends_in</strong> &#8211; The end delta as a <tt class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></tt>.</li>
<li><strong>relative</strong> &#8211; <p>If set to <tt class="xref docutils literal"><span class="pre">False</span></tt>, the end time will be calculated
using <a class="reference internal" href="#celery.utils.timeutils.delta_resolution" title="celery.utils.timeutils.delta_resolution"><tt class="xref py py-func docutils literal"><span class="pre">delta_resolution()</span></tt></a> (i.e. rounded to the resolution</p>
<blockquote>
of <tt class="docutils literal"><span class="pre">ends_in</span></tt>).</blockquote>
</li>
<li><strong>now</strong> &#8211; The current time, defaults to <tt class="xref py py-func docutils literal"><span class="pre">datetime.now()</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="celery.utils.timeutils.timedelta_seconds">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">timedelta_seconds</tt><big>(</big><em>delta</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.timedelta_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert <tt class="xref py py-class docutils literal"><span class="pre">datetime.timedelta</span></tt> to seconds.</p>
<p>Doesn&#8217;t account for negative values.</p>
</dd></dl>

<dl class="function">
<dt id="celery.utils.timeutils.weekday">
<tt class="descclassname">celery.utils.timeutils.</tt><tt class="descname">weekday</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#celery.utils.timeutils.weekday" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the position of a weekday (0 - 7, where 0 is Sunday).</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">weekday</span><span class="p">(</span><span class="s">&quot;sunday&quot;</span><span class="p">),</span> <span class="n">weekday</span><span class="p">(</span><span class="s">&quot;sun&quot;</span><span class="p">),</span> <span class="n">weekday</span><span class="p">(</span><span class="s">&quot;mon&quot;</span><span class="p">)</span>
<span class="go">(0, 0, 1)</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo"><a href="../../index.html">
  <img class="logo" src="http://cloud.github.com/downloads/ask/celery/celery_favicon_128.png" alt="Logo"/>
</a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="celery.utils.term.html"
                        title="previous chapter">Terminal Utilities - celery.utils.term</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="celery.utils.info.html"
                        title="next chapter">Debugging Info - celery.utils.info</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../sources/internals/reference/celery.utils.timeutils.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="celery.utils.info.html" title="Debugging Info - celery.utils.info"
             >next</a> |</li>
        <li class="right" >
          <a href="celery.utils.term.html" title="Terminal Utilities - celery.utils.term"
             >previous</a> |</li>
        <li><a href="../../index.html">Celery v2.1.0a6 documentation</a> &raquo;</li>
          <li><a href="../index.html" >Internals</a> &raquo;</li>
          <li><a href="index.html" >Internal Module Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2010, Ask Solem &amp; contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>