<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuration and defaults &mdash; Celery v1.0.0 (stable) documentation</title>
    <link rel="stylesheet" href="static/adctheme.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '#',
        VERSION:     '1.0.0 (stable)',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <link rel="top" title="Celery v1.0.0 (stable) documentation" href="index.html" />
    <link rel="next" title="Cookbook" href="cookbook/index.html" />
    <link rel="prev" title="HTTP Callback Tasks (Webhooks)" href="userguide/remote-tasks.html" /> 
  </head>
  <body>
<div id="docstitle">
	<p>Celery v1.0.0 (stable) documentation</p>
</div>
<div id="header">
	<div id="title"><h1>Configuration and defaults</h1></div>
	<ul id="headerButtons">
		<li id="toc_button"><div class="headerButton"><a href="#">Table of Contents</a></div></li>
		<li id="page_buttons">
			<div class="headerButton"><a href="genindex.html" title="General Index" accesskey="I">index</a></div>
			<div class="headerButton"><a href="modindex.html" title="Global Module Index" accesskey="M">modules</a></div>
			<div class="headerButton"><a href="cookbook/index.html" title="Cookbook" accesskey="N">next</a></div>
			<div class="headerButton"><a href="userguide/remote-tasks.html" title="HTTP Callback Tasks (Webhooks)" accesskey="P">previous</a></div>
		</li>
	</ul>
</div>

<div id="sphinxsidebar">
  <div class="sphinxsidebarwrapper">
	<ul><li class="toctree-l1"><a href="index.html">Main Page</a></li></ul>
	<ul class="current">
<li class="toctree-l1"><a class="reference external" href="getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference external" href="userguide/index.html">User Guide</a></li>
<li class="toctree-l1 current"><a class="current reference external" href="">Configuration and defaults</a><ul>
<li class="toctree-l2"><a class="reference external" href="#example-configuration-file">Example configuration file</a></li>
<li class="toctree-l2"><a class="reference external" href="#concurrency-settings">Concurrency settings</a></li>
<li class="toctree-l2"><a class="reference external" href="#task-result-backend-settings">Task result backend settings</a></li>
<li class="toctree-l2"><a class="reference external" href="#database-backend-settings">Database backend settings</a></li>
<li class="toctree-l2"><a class="reference external" href="#amqp-backend-settings">AMQP backend settings</a></li>
<li class="toctree-l2"><a class="reference external" href="#cache-backend-settings">Cache backend settings</a></li>
<li class="toctree-l2"><a class="reference external" href="#tokyo-tyrant-backend-settings">Tokyo Tyrant backend settings</a></li>
<li class="toctree-l2"><a class="reference external" href="#redis-backend-settings">Redis backend settings</a></li>
<li class="toctree-l2"><a class="reference external" href="#mongodb-backend-settings">MongoDB backend settings</a></li>
<li class="toctree-l2"><a class="reference external" href="#messaging-settings">Messaging settings</a></li>
<li class="toctree-l2"><a class="reference external" href="#task-execution-settings">Task execution settings</a></li>
<li class="toctree-l2"><a class="reference external" href="#worker-celeryd">Worker: celeryd</a></li>
<li class="toctree-l2"><a class="reference external" href="#periodic-task-server-celerybeat">Periodic Task Server: celerybeat</a></li>
<li class="toctree-l2"><a class="reference external" href="#monitor-server-celerymon">Monitor Server: celerymon</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="cookbook/index.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference external" href="tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference external" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference external" href="reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference external" href="internals/index.html">Internals</a></li>
<li class="toctree-l1"><a class="reference external" href="changelog.html">Change history</a></li>
<li class="toctree-l1"><a class="reference external" href="links.html">Interesting Links</a></li>
</ul>

      <h3>This Page</h3>
      <ul class="this-page-menu">
        <li><a href="sources/configuration.txt"
               rel="nofollow">Show Source</a></li>
      </ul>
    <div id="searchbox" style="display: none">
      
        <form class="search" action="search.html" method="get">
			<div class="search-wrapper">
			<span class="search-left"></span>
			<input class="prettysearch" type="text" name="q" size="18" />
			<span class="search-right">&nbsp;</span>
			</div>
          <input type="submit" value="Search" class="searchbutton" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
        <p class="searchtip" style="font-size: 90%">
        Enter search terms or a module, class or function name.
        </p>
    </div>
    <script type="text/javascript">$('#searchbox').show(0);</script>
  </div>
</div>



    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="configuration-and-defaults">
<h1>Configuration and defaults<a class="headerlink" href="#configuration-and-defaults" title="Permalink to this headline">¶</a></h1>
<p>This document describes the configuration options available.</p>
<p>If you&#8217;re using celery in a Django project these settings should be defined
in the project&#8217;s <tt class="docutils literal"><span class="pre">settings.py</span></tt> file.</p>
<p>In a regular Python environment, that is using the default loader, you must create
the <tt class="docutils literal"><span class="pre">celeryconfig.py</span></tt> module and make sure it is available on the
Python path.</p>
<div class="section" id="example-configuration-file">
<h2>Example configuration file<a class="headerlink" href="#example-configuration-file" title="Permalink to this headline">¶</a></h2>
<p>This is an example configuration file to get you started.
It should contain all you need to run a basic celery set-up.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">CELERY_BACKEND</span> <span class="o">=</span> <span class="s">&quot;database&quot;</span>
<span class="n">DATABASE_ENGINE</span> <span class="o">=</span> <span class="s">&quot;sqlite3&quot;</span>
<span class="n">DATABASE_NAME</span> <span class="o">=</span> <span class="s">&quot;mydatabase.db&quot;</span>

<span class="n">BROKER_HOST</span> <span class="o">=</span> <span class="s">&quot;localhost&quot;</span>
<span class="n">BROKER_PORT</span> <span class="o">=</span> <span class="mi">5672</span>
<span class="n">BROKER_VHOST</span> <span class="o">=</span> <span class="s">&quot;/&quot;</span>
<span class="n">BROKER_USER</span> <span class="o">=</span> <span class="s">&quot;guest&quot;</span>
<span class="n">BROKER_PASSWORD</span> <span class="o">=</span> <span class="s">&quot;guest&quot;</span>

<span class="c">## If you&#39;re doing mostly I/O you can have more processes,</span>
<span class="c">## but if mostly spending CPU, try to keep it close to the</span>
<span class="c">## number of CPUs on your machine. If not set, the number of CPUs/cores</span>
<span class="c">## available will be used.</span>
<span class="c"># CELERYD_CONCURRENCY = 8</span>

<span class="c"># CELERYD_LOG_FILE = &quot;celeryd.log&quot;</span>
<span class="c"># CELERYD_LOG_LEVEL = &quot;INFO&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="concurrency-settings">
<h2>Concurrency settings<a class="headerlink" href="#concurrency-settings" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>CELERYD_CONCURRENCY</dt>
<dd><p class="first">The number of concurrent worker processes, executing tasks simultaneously.</p>
<p class="last">Defaults to the number of CPUs/cores available.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERYD_PREFETCH_MULTIPLIER</dt>
<dd><p class="first last">How many messages to prefetch at a time multiplied by the number of
concurrent processes. The default is 4 (four messages for each
process). The default setting seems pretty good here. However, if you have
very long running tasks waiting in the queue and you have to start the
workers, note that the first worker to start will receive four times the
number of messages initially. Thus the tasks may not be fairly balanced among the
workers.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="task-result-backend-settings">
<h2>Task result backend settings<a class="headerlink" href="#task-result-backend-settings" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>CELERY_BACKEND</dt>
<dd><p class="first">The backend used to store task results (tombstones).
Can be one of the following:</p>
<ul class="last">
<li><dl class="first docutils">
<dt>database (default)</dt>
<dd><p class="first last">Use a relational database supported by the Django ORM.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>cache</dt>
<dd><p class="first last">Use <a class="reference external" href="http://memcached.org">memcached</a> to store the results.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>mongodb</dt>
<dd><p class="first last">Use <a class="reference external" href="http://mongodb.org">MongoDB</a> to store the results.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>redis</dt>
<dd><p class="first last">Use <a class="reference external" href="http://code.google.com/p/redis/">Redis</a> to store the results.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>tyrant</dt>
<dd><p class="first last">Use <a class="reference external" href="http://1978th.net/tokyotyrant/">Tokyo Tyrant</a> to store the results.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>amqp</dt>
<dd><p class="first last">Send results back as AMQP messages
(<strong>WARNING</strong> While very fast, you must make sure you only
receive the result once. See <tt class="xref docutils literal"><span class="pre">user-guide/executing</span></tt>).</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="database-backend-settings">
<h2>Database backend settings<a class="headerlink" href="#database-backend-settings" title="Permalink to this headline">¶</a></h2>
<p>Please see the Django ORM database settings documentation:
<a class="reference external" href="http://docs.djangoproject.com/en/dev/ref/settings/#database-engine">http://docs.djangoproject.com/en/dev/ref/settings/#database-engine</a></p>
<p>If you use this backend, make sure to initialize the database tables
after configuration. When using celery with a Django project this
means executing:</p>
<div class="highlight-python"><pre>$ python manage.py syncdb</pre>
</div>
<p>When using celery in a regular Python environment you have to execute:</p>
<div class="highlight-python"><pre>$ celeryinit</pre>
</div>
<div class="section" id="example-configuration">
<h3>Example configuration<a class="headerlink" href="#example-configuration" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="n">CELERY_BACKEND</span> <span class="o">=</span> <span class="s">&quot;database&quot;</span>
<span class="n">DATABASE_ENGINE</span> <span class="o">=</span> <span class="s">&quot;mysql&quot;</span>
<span class="n">DATABASE_USER</span> <span class="o">=</span> <span class="s">&quot;myusername&quot;</span>
<span class="n">DATABASE_PASSWORD</span> <span class="o">=</span> <span class="s">&quot;mypassword&quot;</span>
<span class="n">DATABASE_NAME</span> <span class="o">=</span> <span class="s">&quot;mydatabase&quot;</span>
<span class="n">DATABASE_HOST</span> <span class="o">=</span> <span class="s">&quot;localhost&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="amqp-backend-settings">
<h2>AMQP backend settings<a class="headerlink" href="#amqp-backend-settings" title="Permalink to this headline">¶</a></h2>
<p>The AMQP backend does not have any settings yet.</p>
<div class="section" id="id1">
<h3>Example configuration<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<blockquote>
CELERY_BACKEND = &#8220;amqp&#8221;</blockquote>
</div>
</div>
<div class="section" id="cache-backend-settings">
<h2>Cache backend settings<a class="headerlink" href="#cache-backend-settings" title="Permalink to this headline">¶</a></h2>
<p>Please see the documentation for the Django cache framework settings:
<a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/cache/#memcached">http://docs.djangoproject.com/en/dev/topics/cache/#memcached</a></p>
<p>To use a custom cache backend for Celery, while using another for Django,
you should use the <tt class="docutils literal"><span class="pre">CELERY_CACHE_BACKEND</span></tt> setting instead of the regular
django <tt class="docutils literal"><span class="pre">CACHE_BACKEND</span></tt> setting.</p>
<div class="section" id="id2">
<h3>Example configuration<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Using a single memcached server:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">CACHE_BACKEND</span> <span class="o">=</span> <span class="s">&#39;memcached://127.0.0.1:11211/&#39;</span>
</pre></div>
</div>
<p>Using multiple memcached servers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">CELERY_BACKEND</span> <span class="o">=</span> <span class="s">&quot;cache&quot;</span>
<span class="n">CACHE_BACKEND</span> <span class="o">=</span> <span class="s">&#39;memcached://172.19.26.240:11211;172.19.26.242:11211/&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="tokyo-tyrant-backend-settings">
<h2>Tokyo Tyrant backend settings<a class="headerlink" href="#tokyo-tyrant-backend-settings" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>NOTE</strong> The Tokyo Tyrant backend requires the <tt class="xref docutils literal"><span class="pre">pytyrant</span></tt> library:</dt>
<dd><a class="reference external" href="http://pypi.python.org/pypi/pytyrant/">http://pypi.python.org/pypi/pytyrant/</a></dd>
</dl>
<p>This backend requires the following configuration directives to be set:</p>
<ul>
<li><dl class="first docutils">
<dt>TT_HOST</dt>
<dd><p class="first last">Hostname of the Tokyo Tyrant server.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>TT_PORT</dt>
<dd><p class="first last">The port the Tokyo Tyrant server is listening to.</p>
</dd>
</dl>
</li>
</ul>
<div class="section" id="id3">
<h3>Example configuration<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="n">CELERY_BACKEND</span> <span class="o">=</span> <span class="s">&quot;tyrant&quot;</span>
<span class="n">TT_HOST</span> <span class="o">=</span> <span class="s">&quot;localhost&quot;</span>
<span class="n">TT_PORT</span> <span class="o">=</span> <span class="mi">1978</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="redis-backend-settings">
<h2>Redis backend settings<a class="headerlink" href="#redis-backend-settings" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>NOTE</strong> The Redis backend requires the <tt class="xref docutils literal"><span class="pre">redis</span></tt> library:</dt>
<dd><a class="reference external" href="http://pypi.python.org/pypi/redis/0.5.5">http://pypi.python.org/pypi/redis/0.5.5</a></dd>
</dl>
<p>To install the redis package use <tt class="docutils literal"><span class="pre">pip</span></tt> or <tt class="docutils literal"><span class="pre">easy_install</span></tt>:</p>
<div class="highlight-python"><pre>$ pip install redis</pre>
</div>
<p>This backend requires the following configuration directives to be set:</p>
<ul>
<li><p class="first">REDIS_HOST</p>
<blockquote>
<p>Hostname of the Redis database server. e.g. <tt class="docutils literal"><span class="pre">&quot;localhost&quot;</span></tt>.</p>
</blockquote>
</li>
<li><p class="first">REDIS_PORT</p>
<blockquote>
<p>Port to the Redis database server. e.g. <tt class="docutils literal"><span class="pre">6379</span></tt>.</p>
</blockquote>
</li>
</ul>
<p>Also, the following optional configuration directives are available:</p>
<ul>
<li><p class="first">REDIS_DB</p>
<blockquote>
<p>Name of the database to use. Default is <tt class="docutils literal"><span class="pre">celery_results</span></tt>.</p>
</blockquote>
</li>
<li><p class="first">REDIS_TIMEOUT</p>
<blockquote>
<p>Timeout in seconds before we give up establishing a connection
to the Redis server.</p>
</blockquote>
</li>
<li><p class="first">REDIS_CONNECT_RETRY</p>
<blockquote>
<p>Retry connecting if an connection could not be established. Default is
false.</p>
</blockquote>
</li>
</ul>
<div class="section" id="id4">
<h3>Example configuration<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="n">CELERY_BACKEND</span> <span class="o">=</span> <span class="s">&quot;redis&quot;</span>
<span class="n">REDIS_HOST</span> <span class="o">=</span> <span class="s">&quot;localhost&quot;</span>
<span class="n">REDIS_PORT</span> <span class="o">=</span> <span class="mi">6379</span>
<span class="n">REDIS_DATABASE</span> <span class="o">=</span> <span class="s">&quot;celery_results&quot;</span>
<span class="n">REDIS_CONNECT_RETRY</span><span class="o">=</span><span class="bp">True</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="mongodb-backend-settings">
<h2>MongoDB backend settings<a class="headerlink" href="#mongodb-backend-settings" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>NOTE</strong> The MongoDB backend requires the <tt class="xref docutils literal"><span class="pre">pymongo</span></tt> library:</dt>
<dd><a class="reference external" href="http://github.com/mongodb/mongo-python-driver/tree/master">http://github.com/mongodb/mongo-python-driver/tree/master</a></dd>
</dl>
<ul>
<li><p class="first">CELERY_MONGODB_BACKEND_SETTINGS</p>
<blockquote>
<p>This is a dict supporting the following keys:</p>
<ul>
<li><dl class="first docutils">
<dt>host</dt>
<dd><p class="first last">Hostname of the MongoDB server. Defaults to &#8220;localhost&#8221;.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>port</dt>
<dd><p class="first last">The port the MongoDB server is listening to. Defaults to 27017.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>user</dt>
<dd><p class="first last">User name to authenticate to the MongoDB server as (optional).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>password</dt>
<dd><p class="first last">Password to authenticate to the MongoDB server (optional).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>database</dt>
<dd><p class="first last">The database name to connect to. Defaults to &#8220;celery&#8221;.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>taskmeta_collection</dt>
<dd><p class="first last">The collection name to store task meta data.
Defaults to &#8220;celery_taskmeta&#8221;.</p>
</dd>
</dl>
</li>
</ul>
</blockquote>
</li>
</ul>
<div class="section" id="id5">
<h3>Example configuration<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre><span class="n">CELERY_BACKEND</span> <span class="o">=</span> <span class="s">&quot;mongodb&quot;</span>
<span class="n">CELERY_MONGODB_BACKEND_SETTINGS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&quot;host&quot;</span><span class="p">:</span> <span class="s">&quot;192.168.1.100&quot;</span><span class="p">,</span>
    <span class="s">&quot;port&quot;</span><span class="p">:</span> <span class="mi">30000</span><span class="p">,</span>
    <span class="s">&quot;database&quot;</span><span class="p">:</span> <span class="s">&quot;mydb&quot;</span><span class="p">,</span>
    <span class="s">&quot;taskmeta_collection&quot;</span><span class="p">:</span> <span class="s">&quot;my_taskmeta_collection&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="messaging-settings">
<h2>Messaging settings<a class="headerlink" href="#messaging-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="routing">
<h3>Routing<a class="headerlink" href="#routing" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">CELERY_QUEUES
The mapping of queues the worker consumes from. This is a dictionary
of queue name/options. See <tt class="xref docutils literal"><span class="pre">userguide/routing</span></tt> for more information.</p>
<p>The default is a queue/exchange/binding key of <tt class="docutils literal"><span class="pre">&quot;celery&quot;</span></tt>, with
exchange type <tt class="docutils literal"><span class="pre">direct</span></tt>.</p>
<p>You don&#8217;t have to care about this unless you want custom routing facilities.</p>
</li>
<li><dl class="first docutils">
<dt>CELERY_DEFAULT_QUEUE</dt>
<dd><p class="first last">The queue used by default, if no custom queue is specified.
This queue must be listed in <tt class="docutils literal"><span class="pre">CELERY_QUEUES</span></tt>.
The default is: <tt class="docutils literal"><span class="pre">celery</span></tt>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERY_DEFAULT_EXCHANGE</dt>
<dd><p class="first last">Name of the default exchange to use when no custom exchange
is specified.
The default is: <tt class="docutils literal"><span class="pre">celery</span></tt>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERY_DEFAULT_EXCHANGE_TYPE</dt>
<dd><p class="first last">Default exchange type used when no custom exchange is specified.
The default is: <tt class="docutils literal"><span class="pre">direct</span></tt>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERY_DEFAULT_ROUTING_KEY</dt>
<dd><p class="first last">The default routing key used when sending tasks.
The default is: <tt class="docutils literal"><span class="pre">celery</span></tt>.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="connection">
<h3>Connection<a class="headerlink" href="#connection" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl class="first docutils">
<dt>CELERY_BROKER_CONNECTION_TIMEOUT</dt>
<dd><p class="first last">The timeout in seconds before we give up establishing a connection
to the AMQP server. Default is 4 seconds.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERY_BROKER_CONNECTION_RETRY</dt>
<dd><p class="first">Automatically try to re-establish the connection to the AMQP broker if
it&#8217;s lost.</p>
<p>The time between retries is increased for each retry, and is
not exhausted before <tt class="docutils literal"><span class="pre">CELERY_BROKER_CONNECTION_MAX_RETRIES</span></tt> is exceeded.</p>
<p class="last">This behavior is on by default.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERY_BROKER_CONNECTION_MAX_RETRIES</dt>
<dd><p class="first">Maximum number of retries before we give up re-establishing a connection
to the AMQP broker.</p>
<p>If this is set to <tt class="docutils literal"><span class="pre">0</span></tt> or <tt class="xref docutils literal"><span class="pre">None</span></tt>, we will retry forever.</p>
<p class="last">Default is 100 retries.</p>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="task-execution-settings">
<h2>Task execution settings<a class="headerlink" href="#task-execution-settings" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>CELERY_ALWAYS_EAGER</dt>
<dd><p class="first">If this is <tt class="xref docutils literal"><span class="pre">True</span></tt>, all tasks will be executed locally by blocking
until it is finished. <tt class="docutils literal"><span class="pre">apply_async</span></tt> and <tt class="docutils literal"><span class="pre">Task.delay</span></tt> will return
a <a title="celery.result.EagerResult" class="reference external" href="reference/celery.result.html#celery.result.EagerResult"><tt class="xref docutils literal"><span class="pre">celery.result.EagerResult</span></tt></a> which emulates the behavior of
<a title="celery.result.AsyncResult" class="reference external" href="reference/celery.result.html#celery.result.AsyncResult"><tt class="xref docutils literal"><span class="pre">celery.result.AsyncResult</span></tt></a>, except the result has already
been evaluated.</p>
<p class="last">Tasks will never be sent to the queue, but executed locally
instead.</p>
</dd>
</dl>
</li>
<li><p class="first">CELERY_IGNORE_RESULT</p>
<blockquote>
<p>Whether to store the task return values or not (tombstones).
If you still want to store errors, just not successful return values,
you can set <tt class="docutils literal"><span class="pre">CELERY_STORE_ERRORS_EVEN_IF_IGNORED</span></tt>.</p>
</blockquote>
</li>
<li><dl class="first docutils">
<dt>CELERY_TASK_RESULT_EXPIRES</dt>
<dd><p class="first">Time (in seconds, or a <tt class="xref docutils literal"><span class="pre">datetime.timedelta</span></tt> object) for when after
stored task tombstones are deleted.</p>
<p class="last"><strong>NOTE</strong>: For the moment this only works with the database, cache and MongoDB
backends.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERY_TASK_SERIALIZER</dt>
<dd><p class="first">A string identifying the default serialization
method to use. Can be <tt class="docutils literal"><span class="pre">pickle</span></tt> (default),
<tt class="docutils literal"><span class="pre">json</span></tt>, <tt class="docutils literal"><span class="pre">yaml</span></tt>, or any custom serialization methods that have
been registered with <tt class="xref docutils literal"><span class="pre">carrot.serialization.registry</span></tt>.</p>
<p class="last">Default is <tt class="docutils literal"><span class="pre">pickle</span></tt>.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="worker-celeryd">
<h2>Worker: celeryd<a class="headerlink" href="#worker-celeryd" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>CELERY_IMPORTS</dt>
<dd><p class="first last">A sequence of modules to import when the celery daemon starts.  This is
useful to add tasks if you are not using django or cannot use task
auto-discovery.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERY_SEND_EVENTS</dt>
<dd><p class="first last">Send events so the worker can be monitored by tools like <tt class="docutils literal"><span class="pre">celerymon</span></tt>.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERY_SEND_TASK_ERROR_EMAILS</dt>
<dd><p class="first last">If set to <tt class="xref docutils literal"><span class="pre">True</span></tt>, errors in tasks will be sent to admins by e-mail.
If unset, it will send the e-mails if <tt class="docutils literal"><span class="pre">settings.DEBUG</span></tt> is False.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERY_STORE_ERRORS_EVEN_IF_IGNORED</dt>
<dd><p class="first last">If set, the worker stores all task errors in the result store even if
<tt class="docutils literal"><span class="pre">Task.ignore_result</span></tt> is on.</p>
</dd>
</dl>
</li>
</ul>
<div class="section" id="logging">
<h3>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h3>
<ul>
<li><dl class="first docutils">
<dt>CELERYD_LOG_FILE</dt>
<dd><p class="first">The default file name the worker daemon logs messages to, can be
overridden using the <cite>&#8211;logfile`</cite> option to <tt class="docutils literal"><span class="pre">celeryd</span></tt>.</p>
<p class="last">The default is <tt class="xref docutils literal"><span class="pre">None</span></tt> (<tt class="docutils literal"><span class="pre">stderr</span></tt>)
Can also be set via the <tt class="docutils literal"><span class="pre">--logfile</span></tt> argument.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERYD_LOG_LEVEL</dt>
<dd><p class="first">Worker log level, can be any of <tt class="docutils literal"><span class="pre">DEBUG</span></tt>, <tt class="docutils literal"><span class="pre">INFO</span></tt>, <tt class="docutils literal"><span class="pre">WARNING</span></tt>,
<tt class="docutils literal"><span class="pre">ERROR</span></tt>, <tt class="docutils literal"><span class="pre">CRITICAL</span></tt>.</p>
<p>Can also be set via the <tt class="docutils literal"><span class="pre">--loglevel</span></tt> argument.</p>
<p class="last">See the <tt class="xref docutils literal"><span class="pre">logging</span></tt> module for more information.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERYD_LOG_FORMAT</dt>
<dd><p class="first">The format to use for log messages. Can be overridden using
the <tt class="docutils literal"><span class="pre">--loglevel</span></tt> option to <tt class="docutils literal"><span class="pre">celeryd</span></tt>.</p>
<p>Default is <tt class="docutils literal"><span class="pre">[%(asctime)s:</span> <span class="pre">%(levelname)s/%(processName)s]</span> <span class="pre">%(message)s</span></tt></p>
<p class="last">See the Python <tt class="xref docutils literal"><span class="pre">logging</span></tt> module for more information about log
formats.</p>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="periodic-task-server-celerybeat">
<h2>Periodic Task Server: celerybeat<a class="headerlink" href="#periodic-task-server-celerybeat" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">CELERYBEAT_SCHEDULE_FILENAME</p>
<blockquote>
<p>Name of the file celerybeat stores the current schedule in.
Can be a relative or absolute path, but be aware that the suffix <tt class="docutils literal"><span class="pre">.db</span></tt>
will be appended to the file name.</p>
<p>Can also be set via the <tt class="docutils literal"><span class="pre">--schedule</span></tt> argument.</p>
</blockquote>
</li>
<li><p class="first">CELERYBEAT_MAX_LOOP_INTERVAL</p>
<blockquote>
<p>The maximum number of seconds celerybeat can sleep between checking
the schedule. Default is 300 seconds (5 minutes).</p>
</blockquote>
</li>
<li><dl class="first docutils">
<dt>CELERYBEAT_LOG_FILE</dt>
<dd><p class="first">The default file name to log messages to, can be
overridden using the <cite>&#8211;logfile`</cite> option.</p>
<p class="last">The default is <tt class="xref docutils literal"><span class="pre">None</span></tt> (<tt class="docutils literal"><span class="pre">stderr</span></tt>).
Can also be set via the <tt class="docutils literal"><span class="pre">--logfile</span></tt> argument.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERYBEAT_LOG_LEVEL</dt>
<dd><p class="first">Logging level. Can be any of <tt class="docutils literal"><span class="pre">DEBUG</span></tt>, <tt class="docutils literal"><span class="pre">INFO</span></tt>, <tt class="docutils literal"><span class="pre">WARNING</span></tt>,
<tt class="docutils literal"><span class="pre">ERROR</span></tt>, or <tt class="docutils literal"><span class="pre">CRITICAL</span></tt>.</p>
<p>Can also be set via the <tt class="docutils literal"><span class="pre">--loglevel</span></tt> argument.</p>
<p class="last">See the <tt class="xref docutils literal"><span class="pre">logging</span></tt> module for more information.</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="monitor-server-celerymon">
<h2>Monitor Server: celerymon<a class="headerlink" href="#monitor-server-celerymon" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>CELERYMON_LOG_FILE</dt>
<dd><p class="first">The default file name to log messages to, can be
overridden using the <cite>&#8211;logfile`</cite> option.</p>
<p class="last">The default is <tt class="xref docutils literal"><span class="pre">None</span></tt> (<tt class="docutils literal"><span class="pre">stderr</span></tt>)
Can also be set via the <tt class="docutils literal"><span class="pre">--logfile</span></tt> argument.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CELERYMON_LOG_LEVEL</dt>
<dd><p class="first">Logging level. Can be any of <tt class="docutils literal"><span class="pre">DEBUG</span></tt>, <tt class="docutils literal"><span class="pre">INFO</span></tt>, <tt class="docutils literal"><span class="pre">WARNING</span></tt>,
<tt class="docutils literal"><span class="pre">ERROR</span></tt>, or <tt class="docutils literal"><span class="pre">CRITICAL</span></tt>.</p>
<p class="last">See the <tt class="xref docutils literal"><span class="pre">logging</span></tt> module for more information.</p>
</dd>
</dl>
</li>
</ul>
</div>
</div>


          </div> 
        </div>
      </div>
    <div class="footer">
    <p>
      &copy; Copyright 2009, Ask Solem.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
	</p>
    </div>
      <div class="clearer"></div>
    </div>
	<div id="breadcrumbs">
		<a href="index.html">Celery v1.0.0 (stable) documentation</a>
		</ul>
	</div>
  </body>
</html>