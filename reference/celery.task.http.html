<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>HTTP Callback Tasks - celery.task.http &mdash; Celery v1.0.1.pre2 (unstable) documentation</title>
    <link rel="stylesheet" href="../static/adctheme.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.1.pre2 (unstable)',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="Celery v1.0.1.pre2 (unstable) documentation" href="../index.html" />
    <link rel="up" title="API Reference" href="index.html" />
    <link rel="next" title="Signals - celery.signals" href="celery.signals.html" />
    <link rel="prev" title="Remote Management of Workers - celery.task.control" href="celery.task.control.html" /> 
  </head>
  <body>
<div id="docstitle">
	<p>Celery v1.0.1.pre2 (unstable) documentation</p>
</div>
<div id="header">
	<div id="title"><h1>HTTP Callback Tasks - celery.task.http</h1></div>
	<ul id="headerButtons">
		<li id="toc_button"><div class="headerButton"><a href="#">Table of Contents</a></div></li>
		<li id="page_buttons">
			<div class="headerButton"><a href="../genindex.html" title="General Index" accesskey="I">index</a></div>
			<div class="headerButton"><a href="../modindex.html" title="Global Module Index" accesskey="M">modules</a></div>
			<div class="headerButton"><a href="celery.signals.html" title="Signals - celery.signals" accesskey="N">next</a></div>
			<div class="headerButton"><a href="celery.task.control.html" title="Remote Management of Workers - celery.task.control" accesskey="P">previous</a></div>
		</li>
	</ul>
</div>

<div id="sphinxsidebar">
  <div class="sphinxsidebarwrapper">
	<ul><li class="toctree-l1"><a href="../index.html">Main Page</a></li></ul>
	<ul class="current">
<li class="toctree-l1"><a class="reference external" href="../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference external" href="../userguide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference external" href="../configuration.html">Configuration and defaults</a></li>
<li class="toctree-l1"><a class="reference external" href="../cookbook/index.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference external" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference external" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1 current"><a class="reference external" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference external" href="celery.decorators.html">Task Decorators - celery.decorators</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.task.base.html">Defining Tasks - celery.task.base</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.execute.html">Executing Tasks - celery.execute</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.result.html">Task Result - celery.result</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.task.html">Task Information and Utilities - celery.task</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.conf.html">Configuration - celery.conf</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.task.control.html">Remote Management of Workers - celery.task.control</a></li>
<li class="toctree-l2 current"><a class="current reference external" href="">HTTP Callback Tasks - celery.task.http</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.signals.html">Signals - celery.signals</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.exceptions.html">Exceptions - celery.exceptions</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.task.builtins.html">Built-in Task Classes - celery.task.builtins</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.loaders.html">Loaders - celery.loaders</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.loaders.base.html">Loader Base Classes - celery.loaders.base</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.loaders.default.html">Default Loader - celery.loaders.default</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.loaders.djangoapp.html">Django Loader - celery.loaders.djangoapp</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.registry.html">Task Registry - celery.registry</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.states.html">Task States - celery.states</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.messaging.html">Messaging - celery.messaging</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.contrib.test_runner.html">Contrib: Test runner - celery.contrib.test_runner</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.views.html">Django Views - celery.views</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.events.html">Events - celery.events</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.bin.celeryd.html">Celery Worker Daemon - celery.bin.celeryd</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.bin.celerybeat.html">Celery Periodic Task Server - celery.bin.celerybeat</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.bin.celeryinit.html">Celery Initialize - celery.bin.celeryinit</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.bin.camqadm.html">caqmadm: AMQP API Command-line Shell - celery.bin.camqadm</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../internals/index.html">Internals</a></li>
<li class="toctree-l1"><a class="reference external" href="../changelog.html">Change history</a></li>
<li class="toctree-l1"><a class="reference external" href="../links.html">Interesting Links</a></li>
</ul>

      <h3>This Page</h3>
      <ul class="this-page-menu">
        <li><a href="../sources/reference/celery.task.http.txt"
               rel="nofollow">Show Source</a></li>
      </ul>
    <div id="searchbox" style="display: none">
      
        <form class="search" action="../search.html" method="get">
			<div class="search-wrapper">
			<span class="search-left"></span>
			<input class="prettysearch" type="text" name="q" size="18" />
			<span class="search-right">&nbsp;</span>
			</div>
          <input type="submit" value="Search" class="searchbutton" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
        <p class="searchtip" style="font-size: 90%">
        Enter search terms or a module, class or function name.
        </p>
    </div>
    <script type="text/javascript">$('#searchbox').show(0);</script>
  </div>
</div>



    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-celery.task.http">
<h1>HTTP Callback Tasks - celery.task.http<a class="headerlink" href="#module-celery.task.http" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="celery.task.http.HttpDispatch">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">HttpDispatch</tt><big>(</big><em>url</em>, <em>method</em>, <em>task_kwargs</em>, <em>logger</em><big>)</big><a class="headerlink" href="#celery.task.http.HttpDispatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Make task HTTP request and collect the task result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>url</em> &#8211; The URL to request.</li>
<li><em>method</em> &#8211; HTTP method used. Currently supported methods are <tt class="docutils literal"><span class="pre">GET</span></tt>
and``POST``.</li>
<li><em>task_kwargs</em> &#8211; Task keyword arguments.</li>
<li><em>logger</em> &#8211; Logger used for user/system feedback.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="celery.task.http.HttpDispatch.dispatch">
<tt class="descname">dispatch</tt><big>(</big><big>)</big><a class="headerlink" href="#celery.task.http.HttpDispatch.dispatch" title="Permalink to this definition">¶</a></dt>
<dd>Dispatch callback and return result.</dd></dl>

<dl class="method">
<dt id="celery.task.http.HttpDispatch.make_request">
<tt class="descname">make_request</tt><big>(</big><em>url</em>, <em>method</em>, <em>params</em><big>)</big><a class="headerlink" href="#celery.task.http.HttpDispatch.make_request" title="Permalink to this definition">¶</a></dt>
<dd>Makes an HTTP request and returns the response.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="celery.task.http.HttpDispatchTask">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">HttpDispatchTask</tt><a class="headerlink" href="#celery.task.http.HttpDispatchTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Task dispatching to an URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>url</em> &#8211; The URL location of the HTTP callback task.</li>
<li><em>method</em> &#8211; Method to use when dispatching the callback. Usually
<tt class="docutils literal"><span class="pre">GET</span></tt> or <tt class="docutils literal"><span class="pre">POST</span></tt>.</li>
<li><em>**kwargs</em> &#8211; Keyword arguments to pass on to the HTTP callback.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.url">
<tt class="descname">url</tt><a class="headerlink" href="#celery.task.http.HttpDispatchTask.url" title="Permalink to this definition">¶</a></dt>
<dd>If this is set, this is used as the default URL for requests.
Default is to require the user of the task to supply the url as an
argument, as this attribute is intended for subclasses.</dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.method">
<tt class="descname">method</tt><a class="headerlink" href="#celery.task.http.HttpDispatchTask.method" title="Permalink to this definition">¶</a></dt>
<dd>If this is set, this is the default method used for requests.
Default is to require the user of the task to supply the method as an
argument, as this attribute is intended for subclasses.</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="celery.task.http.InvalidResponseError">
<em class="property">exception </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">InvalidResponseError</tt><a class="headerlink" href="#celery.task.http.InvalidResponseError" title="Permalink to this definition">¶</a></dt>
<dd>The remote server gave an invalid response.</dd></dl>

<dl class="class">
<dt id="celery.task.http.MutableURL">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">MutableURL</tt><big>(</big><em>url</em><big>)</big><a class="headerlink" href="#celery.task.http.MutableURL" title="Permalink to this definition">¶</a></dt>
<dd><p>Object wrapping a Uniform Resource Locator.</p>
<p>Supports editing the query parameter list.
You can convert the object back to a string, the query will be
properly urlencoded.</p>
<p>Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="n">URL</span><span class="p">(</span><span class="s">&quot;http://www.google.com:6580/foo/bar?x=3&amp;y=4#foo&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="o">.</span><span class="n">query</span>
<span class="go">{&#39;x&#39;: &#39;3&#39;, &#39;y&#39;: &#39;4&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="go">&#39;http://www.google.com:6580/foo/bar?y=4&amp;x=3#foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="o">.</span><span class="n">query</span><span class="p">[</span><span class="s">&quot;x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&quot;George&quot;</span><span class="p">:</span> <span class="s">&quot;Constanza&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="go">&#39;http://www.google.com:6580/foo/bar?y=4&amp;x=10&amp;George=Constanza#foo&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="exception">
<dt id="celery.task.http.RemoteExecuteError">
<em class="property">exception </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">RemoteExecuteError</tt><a class="headerlink" href="#celery.task.http.RemoteExecuteError" title="Permalink to this definition">¶</a></dt>
<dd>The remote task gave a custom error.</dd></dl>

<dl class="class">
<dt id="celery.task.http.URL">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">URL</tt><big>(</big><em>url</em>, <em>dispatcher=None</em><big>)</big><a class="headerlink" href="#celery.task.http.URL" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP Callback URL</p>
<p>Supports requesting an URL asynchronously.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>url</em> &#8211; URL to request.</li>
<li><em>dispatcher</em> &#8211; Class used to dispatch the request.
By default this is <a title="celery.task.http.HttpDispatchTask" class="reference internal" href="#celery.task.http.HttpDispatchTask"><tt class="xref docutils literal"><span class="pre">HttpDispatchTask</span></tt></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="celery.task.http.URL.dispatcher">
<tt class="descname">dispatcher</tt><a class="headerlink" href="#celery.task.http.URL.dispatcher" title="Permalink to this definition">¶</a></dt>
<dd>alias of <a title="celery.task.http.HttpDispatchTask" class="reference internal" href="#celery.task.http.HttpDispatchTask"><tt class="xref docutils literal"><span class="pre">HttpDispatchTask</span></tt></a></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="celery.task.http.UnknownStatusError">
<em class="property">exception </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">UnknownStatusError</tt><a class="headerlink" href="#celery.task.http.UnknownStatusError" title="Permalink to this definition">¶</a></dt>
<dd>The remote server gave an unknown status.</dd></dl>

<dl class="function">
<dt id="celery.task.http.maybe_utf8">
<tt class="descclassname">celery.task.http.</tt><tt class="descname">maybe_utf8</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#celery.task.http.maybe_utf8" title="Permalink to this definition">¶</a></dt>
<dd>Encode utf-8 value, only if the value is actually utf-8.</dd></dl>

<dl class="function">
<dt id="celery.task.http.utf8dict">
<tt class="descclassname">celery.task.http.</tt><tt class="descname">utf8dict</tt><big>(</big><em>tup</em><big>)</big><a class="headerlink" href="#celery.task.http.utf8dict" title="Permalink to this definition">¶</a></dt>
<dd>With a dict&#8217;s items() tuple return a new dict with any utf-8
keys/values encoded.</dd></dl>

</div>


          </div> 
        </div>
      </div>
    <div class="footer">
    <p>
      &copy; Copyright 2009, Ask Solem.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
	</p>
    </div>
      <div class="clearer"></div>
    </div>
	<div id="breadcrumbs">
		<a href="index.html" accesskey="U">API Reference</a><img src="triangle_closed.png" alt="Right arrow">
		<a href="../index.html">Celery v1.0.1.pre2 (unstable) documentation</a>
		</ul>
	</div>
  </body>
</html>