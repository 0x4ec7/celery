<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Defining Tasks - celery.task.base &mdash; Celery v1.0.1.pre2 (unstable) documentation</title>
    <link rel="stylesheet" href="../static/adctheme.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0.1.pre2 (unstable)',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="Celery v1.0.1.pre2 (unstable) documentation" href="../index.html" />
    <link rel="up" title="API Reference" href="index.html" />
    <link rel="next" title="Executing Tasks - celery.execute" href="celery.execute.html" />
    <link rel="prev" title="Task Decorators - celery.decorators" href="celery.decorators.html" /> 
  </head>
  <body>
<div id="docstitle">
	<p>Celery v1.0.1.pre2 (unstable) documentation</p>
</div>
<div id="header">
	<div id="title"><h1>Defining Tasks - celery.task.base</h1></div>
	<ul id="headerButtons">
		<li id="toc_button"><div class="headerButton"><a href="#">Table of Contents</a></div></li>
		<li id="page_buttons">
			<div class="headerButton"><a href="../genindex.html" title="General Index" accesskey="I">index</a></div>
			<div class="headerButton"><a href="../modindex.html" title="Global Module Index" accesskey="M">modules</a></div>
			<div class="headerButton"><a href="celery.execute.html" title="Executing Tasks - celery.execute" accesskey="N">next</a></div>
			<div class="headerButton"><a href="celery.decorators.html" title="Task Decorators - celery.decorators" accesskey="P">previous</a></div>
		</li>
	</ul>
</div>

<div id="sphinxsidebar">
  <div class="sphinxsidebarwrapper">
	<ul><li class="toctree-l1"><a href="../index.html">Main Page</a></li></ul>
	<ul class="current">
<li class="toctree-l1"><a class="reference external" href="../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference external" href="../userguide/index.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference external" href="../configuration.html">Configuration and defaults</a></li>
<li class="toctree-l1"><a class="reference external" href="../cookbook/index.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference external" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference external" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1 current"><a class="reference external" href="index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference external" href="celery.decorators.html">Task Decorators - celery.decorators</a></li>
<li class="toctree-l2 current"><a class="current reference external" href="">Defining Tasks - celery.task.base</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.execute.html">Executing Tasks - celery.execute</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.result.html">Task Result - celery.result</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.task.html">Task Information and Utilities - celery.task</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.conf.html">Configuration - celery.conf</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.task.control.html">Remote Management of Workers - celery.task.control</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.task.http.html">HTTP Callback Tasks - celery.task.http</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.signals.html">Signals - celery.signals</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.exceptions.html">Exceptions - celery.exceptions</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.task.builtins.html">Built-in Task Classes - celery.task.builtins</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.loaders.html">Loaders - celery.loaders</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.loaders.base.html">Loader Base Classes - celery.loaders.base</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.loaders.default.html">Default Loader - celery.loaders.default</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.loaders.djangoapp.html">Django Loader - celery.loaders.djangoapp</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.registry.html">Task Registry - celery.registry</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.states.html">Task States - celery.states</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.messaging.html">Messaging - celery.messaging</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.contrib.test_runner.html">Contrib: Test runner - celery.contrib.test_runner</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.views.html">Django Views - celery.views</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.events.html">Events - celery.events</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.bin.celeryd.html">Celery Worker Daemon - celery.bin.celeryd</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.bin.celerybeat.html">Celery Periodic Task Server - celery.bin.celerybeat</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.bin.celeryinit.html">Celery Initialize - celery.bin.celeryinit</a></li>
<li class="toctree-l2"><a class="reference external" href="celery.bin.camqadm.html">caqmadm: AMQP API Command-line Shell - celery.bin.camqadm</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../internals/index.html">Internals</a></li>
<li class="toctree-l1"><a class="reference external" href="../changelog.html">Change history</a></li>
<li class="toctree-l1"><a class="reference external" href="../links.html">Interesting Links</a></li>
</ul>

      <h3>This Page</h3>
      <ul class="this-page-menu">
        <li><a href="../sources/reference/celery.task.base.txt"
               rel="nofollow">Show Source</a></li>
      </ul>
    <div id="searchbox" style="display: none">
      
        <form class="search" action="../search.html" method="get">
			<div class="search-wrapper">
			<span class="search-left"></span>
			<input class="prettysearch" type="text" name="q" size="18" />
			<span class="search-right">&nbsp;</span>
			</div>
          <input type="submit" value="Search" class="searchbutton" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
        <p class="searchtip" style="font-size: 90%">
        Enter search terms or a module, class or function name.
        </p>
    </div>
    <script type="text/javascript">$('#searchbox').show(0);</script>
  </div>
</div>



    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-celery.task.base">
<h1>Defining Tasks - celery.task.base<a class="headerlink" href="#module-celery.task.base" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="celery.task.base.AsynchronousMapTask">
<em class="property">class </em><tt class="descclassname">celery.task.base.</tt><tt class="descname">AsynchronousMapTask</tt><a class="headerlink" href="#celery.task.base.AsynchronousMapTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Task used internally by <tt class="xref docutils literal"><span class="pre">dmap_async()</span></tt> and
<a title="celery.task.base.TaskSet.map_async" class="reference internal" href="#celery.task.base.TaskSet.map_async"><tt class="xref docutils literal"><span class="pre">TaskSet.map_async()</span></tt></a>.</p>
<dl class="method">
<dt id="celery.task.base.AsynchronousMapTask.run">
<tt class="descname">run</tt><big>(</big><em>ser_callable</em>, <em>args</em>, <em>timeout=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#celery.task.base.AsynchronousMapTask.run" title="Permalink to this definition">¶</a></dt>
<dd>:see <tt class="xref docutils literal"><span class="pre">TaskSet.dmap_async()</span></tt>.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="celery.task.base.ExecuteRemoteTask">
<em class="property">class </em><tt class="descclassname">celery.task.base.</tt><tt class="descname">ExecuteRemoteTask</tt><a class="headerlink" href="#celery.task.base.ExecuteRemoteTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute an arbitrary function or object.</p>
<p><em>Note</em> You probably want <tt class="xref docutils literal"><span class="pre">execute_remote()</span></tt> instead, which this
is an internal component of.</p>
<p>The object must be pickleable, so you can&#8217;t use lambdas or functions
defined in the REPL (that is the python shell, or <tt class="docutils literal"><span class="pre">ipython</span></tt>).</p>
<dl class="method">
<dt id="celery.task.base.ExecuteRemoteTask.run">
<tt class="descname">run</tt><big>(</big><em>ser_callable</em>, <em>fargs</em>, <em>fkwargs</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#celery.task.base.ExecuteRemoteTask.run" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>ser_callable</em> &#8211; A pickled function or callable object.</li>
<li><em>fargs</em> &#8211; Positional arguments to apply to the function.</li>
<li><em>fkwargs</em> &#8211; Keyword arguments to apply to the function.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="celery.task.base.PeriodicTask">
<em class="property">class </em><tt class="descclassname">celery.task.base.</tt><tt class="descname">PeriodicTask</tt><a class="headerlink" href="#celery.task.base.PeriodicTask" title="Permalink to this definition">¶</a></dt>
<dd><p>A periodic task is a task that behaves like a <em>cron</em> job.</p>
<p>Results of periodic tasks are not stored by default.</p>
<dl class="attribute">
<dt id="celery.task.base.PeriodicTask.run_every">
<tt class="descname">run_every</tt><a class="headerlink" href="#celery.task.base.PeriodicTask.run_every" title="Permalink to this definition">¶</a></dt>
<dd><em>REQUIRED</em> Defines how often the task is run (its interval),
it can be either a <tt class="xref docutils literal"><span class="pre">datetime.timedelta</span></tt> object or an
integer specifying the time in seconds.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.PeriodicTask.relative">
<tt class="descname">relative</tt><a class="headerlink" href="#celery.task.base.PeriodicTask.relative" title="Permalink to this definition">¶</a></dt>
<dd>If set to <tt class="xref docutils literal"><span class="pre">True</span></tt>, run times are relative to the time when the
server was started. This was the previous behaviour, periodic tasks
are now scheduled by the clock.</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name" colspan="2">Raises NotImplementedError:</th></tr>
<tr><td>&nbsp;</td><td class="field-body">if the <a title="celery.task.base.PeriodicTask.run_every" class="reference internal" href="#celery.task.base.PeriodicTask.run_every"><tt class="xref docutils literal"><span class="pre">run_every</span></tt></a> attribute is
not defined.</td>
</tr>
</tbody>
</table>
<p>Example</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">celery.task</span> <span class="kn">import</span> <span class="n">tasks</span><span class="p">,</span> <span class="n">PeriodicTask</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">timedelta</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyPeriodicTask</span><span class="p">(</span><span class="n">PeriodicTask</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">run_every</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">logger</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_logger</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s">&quot;Running MyPeriodicTask&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="celery.task.base.PeriodicTask.is_due">
<tt class="descname">is_due</tt><big>(</big><em>last_run_at</em><big>)</big><a class="headerlink" href="#celery.task.base.PeriodicTask.is_due" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns tuple of two items <tt class="docutils literal"><span class="pre">(is_due,</span> <span class="pre">next_time_to_run)</span></tt>,
where next time to run is in seconds.</p>
<p>e.g.</p>
<ul>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">(True,</span> <span class="pre">20)</span></tt>, means the task should be run now, and the next</dt>
<dd><p class="first last">time to run is in 20 seconds.</p>
</dd>
</dl>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">(False,</span> <span class="pre">12)</span></tt>, means the task should be run in 12 seconds.</p>
</li>
</ul>
<p>You can override this to decide the interval at runtime,
but keep in mind the value of <tt class="docutils literal"><span class="pre">CELERYBEAT_MAX_LOOP_INTERVAL</span></tt>, which
decides the maximum number of seconds celerybeat can sleep between
re-checking the periodic task intervals. So if you dynamically change
the next run at value, and the max interval is set to 5 minutes, it
will take 5 minutes for the change to take effect, so you may
consider lowering the value of <tt class="docutils literal"><span class="pre">CELERYBEAT_MAX_LOOP_INTERVAL</span></tt> if
responsiveness if of importance to you.</p>
</dd></dl>

<dl class="method">
<dt id="celery.task.base.PeriodicTask.remaining_estimate">
<tt class="descname">remaining_estimate</tt><big>(</big><em>last_run_at</em><big>)</big><a class="headerlink" href="#celery.task.base.PeriodicTask.remaining_estimate" title="Permalink to this definition">¶</a></dt>
<dd>Returns when the periodic task should run next as a timedelta.</dd></dl>

<dl class="method">
<dt id="celery.task.base.PeriodicTask.timedelta_seconds">
<tt class="descname">timedelta_seconds</tt><big>(</big><em>delta</em><big>)</big><a class="headerlink" href="#celery.task.base.PeriodicTask.timedelta_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert <tt class="xref docutils literal"><span class="pre">datetime.timedelta</span></tt> to seconds.</p>
<p>Doesn&#8217;t account for negative timedeltas.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="celery.task.base.Task">
<em class="property">class </em><tt class="descclassname">celery.task.base.</tt><tt class="descname">Task</tt><a class="headerlink" href="#celery.task.base.Task" title="Permalink to this definition">¶</a></dt>
<dd><p>A celery task.</p>
<p>All subclasses of <a title="celery.task.base.Task" class="reference internal" href="#celery.task.base.Task"><tt class="xref docutils literal"><span class="pre">Task</span></tt></a> must define the <a title="celery.task.base.Task.run" class="reference internal" href="#celery.task.base.Task.run"><tt class="xref docutils literal"><span class="pre">run()</span></tt></a> method,
which is the actual method the <tt class="docutils literal"><span class="pre">celery</span></tt> daemon executes.</p>
<p>The <a title="celery.task.base.Task.run" class="reference internal" href="#celery.task.base.Task.run"><tt class="xref docutils literal"><span class="pre">run()</span></tt></a> method can take use of the default keyword arguments,
as listed in the <a title="celery.task.base.Task.run" class="reference internal" href="#celery.task.base.Task.run"><tt class="xref docutils literal"><span class="pre">run()</span></tt></a> documentation.</p>
<dl class="attribute">
<dt id="celery.task.base.Task.name">
<tt class="descname">name</tt><a class="headerlink" href="#celery.task.base.Task.name" title="Permalink to this definition">¶</a></dt>
<dt>
<tt class="descname">Name of the task.</tt></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.abstract">
<tt class="descname">abstract</tt><a class="headerlink" href="#celery.task.base.Task.abstract" title="Permalink to this definition">¶</a></dt>
<dt>
<tt class="descname">If ``True`` the task is an abstract base class.</tt></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.type">
<tt class="descname">type</tt><a class="headerlink" href="#celery.task.base.Task.type" title="Permalink to this definition">¶</a></dt>
<dd>The type of task, currently this can be <tt class="docutils literal"><span class="pre">regular</span></tt>, or <tt class="docutils literal"><span class="pre">periodic</span></tt>,
however if you want a periodic task, you should subclass
<a title="celery.task.base.PeriodicTask" class="reference internal" href="#celery.task.base.PeriodicTask"><tt class="xref docutils literal"><span class="pre">PeriodicTask</span></tt></a> instead.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.routing_key">
<tt class="descname">routing_key</tt><a class="headerlink" href="#celery.task.base.Task.routing_key" title="Permalink to this definition">¶</a></dt>
<dd>Override the global default <tt class="docutils literal"><span class="pre">routing_key</span></tt> for this task.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.exchange">
<tt class="descname">exchange</tt><a class="headerlink" href="#celery.task.base.Task.exchange" title="Permalink to this definition">¶</a></dt>
<dd>Override the global default <tt class="docutils literal"><span class="pre">exchange</span></tt> for this task.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.mandatory">
<tt class="descname">mandatory</tt><a class="headerlink" href="#celery.task.base.Task.mandatory" title="Permalink to this definition">¶</a></dt>
<dd>Mandatory message routing. An exception will be raised if the task
can&#8217;t be routed to a queue.</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">immediate:</tt></dt>
<dd>Request immediate delivery. An exception will be raised if the task
can&#8217;t be routed to a worker immediately.</dd></dl>

<dl class="attribute">
<dt>
<tt class="descname">priority:</tt></dt>
<dt>
<tt class="descname">The message priority. A number from ``0`` to ``9``, where ``0`` is the</tt></dt>
<dt>
<tt class="descname">highest. Note that RabbitMQ doesn't support priorities yet.</tt></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.max_retries">
<tt class="descname">max_retries</tt><a class="headerlink" href="#celery.task.base.Task.max_retries" title="Permalink to this definition">¶</a></dt>
<dd>Maximum number of retries before giving up.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.default_retry_delay">
<tt class="descname">default_retry_delay</tt><a class="headerlink" href="#celery.task.base.Task.default_retry_delay" title="Permalink to this definition">¶</a></dt>
<dd>Default time in seconds before a retry of the task should be
executed. Default is a 1 minute delay.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.rate_limit">
<tt class="descname">rate_limit</tt><a class="headerlink" href="#celery.task.base.Task.rate_limit" title="Permalink to this definition">¶</a></dt>
<dd>Set the rate limit for this task type, Examples: <tt class="xref docutils literal"><span class="pre">None</span></tt> (no rate
limit), <tt class="docutils literal"><span class="pre">&quot;100/s&quot;</span></tt> (hundred tasks a second), <tt class="docutils literal"><span class="pre">&quot;100/m&quot;</span></tt> (hundred
tasks a minute), <tt class="docutils literal"><span class="pre">&quot;100/h&quot;</span></tt> (hundred tasks an hour)</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.rate_limit_queue_type">
<tt class="descname">rate_limit_queue_type</tt><a class="headerlink" href="#celery.task.base.Task.rate_limit_queue_type" title="Permalink to this definition">¶</a></dt>
<dd>Type of queue used by the rate limiter for this kind of tasks.
Default is a <tt class="xref docutils literal"><span class="pre">Queue.Queue</span></tt>, but you can change this to
a <tt class="xref docutils literal"><span class="pre">Queue.LifoQueue</span></tt> or an invention of your own.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.ignore_result">
<tt class="descname">ignore_result</tt><a class="headerlink" href="#celery.task.base.Task.ignore_result" title="Permalink to this definition">¶</a></dt>
<dd>Don&#8217;t store the return value of this task.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.disable_error_emails">
<tt class="descname">disable_error_emails</tt><a class="headerlink" href="#celery.task.base.Task.disable_error_emails" title="Permalink to this definition">¶</a></dt>
<dd>Disable all error e-mails for this task (only applicable if
<tt class="docutils literal"><span class="pre">settings.SEND_CELERY_ERROR_EMAILS</span></tt> is on.)</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.serializer">
<tt class="descname">serializer</tt><a class="headerlink" href="#celery.task.base.Task.serializer" title="Permalink to this definition">¶</a></dt>
<dd>The name of a serializer that has been registered with
<tt class="xref docutils literal"><span class="pre">carrot.serialization.registry</span></tt>. Example: <tt class="docutils literal"><span class="pre">&quot;json&quot;</span></tt>.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.backend">
<tt class="descname">backend</tt><a class="headerlink" href="#celery.task.base.Task.backend" title="Permalink to this definition">¶</a></dt>
<dd>The result store backend used for this task.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.Task.autoregister">
<tt class="descname">autoregister</tt><a class="headerlink" href="#celery.task.base.Task.autoregister" title="Permalink to this definition">¶</a></dt>
<dt>
<tt class="descname">If ``True`` the task is automatically registered in the task</tt></dt>
<dt>
<tt class="descname">registry, which is the default behaviour.</tt></dt>
<dd></dd></dl>

<p>The resulting class is callable, which if called will apply the
<a title="celery.task.base.Task.run" class="reference internal" href="#celery.task.base.Task.run"><tt class="xref docutils literal"><span class="pre">run()</span></tt></a> method.</p>
<dl class="exception">
<dt id="celery.task.base.Task.MaxRetriesExceededError">
<em class="property">exception </em><tt class="descname">MaxRetriesExceededError</tt><a class="headerlink" href="#celery.task.base.Task.MaxRetriesExceededError" title="Permalink to this definition">¶</a></dt>
<dd>The tasks max restart limit has been exceeded.</dd></dl>

<dl class="classmethod">
<dt id="celery.task.base.Task.apply">
<em class="property">classmethod </em><tt class="descclassname">Task.</tt><tt class="descname">apply</tt><big>(</big><em>args=None</em>, <em>kwargs=None</em>, <em>**options</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute this task at once, by blocking until the task
has finished executing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>args</em> &#8211; positional arguments passed on to the task.</li>
<li><em>kwargs</em> &#8211; keyword arguments passed on to the task.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a title="celery.result.EagerResult" class="reference external" href="celery.result.html#celery.result.EagerResult"><tt class="xref docutils literal"><span class="pre">celery.result.EagerResult</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
<p>See <a title="celery.execute.apply" class="reference external" href="celery.execute.html#celery.execute.apply"><tt class="xref docutils literal"><span class="pre">celery.execute.apply()</span></tt></a>.</p>
</dd></dl>

<dl class="classmethod">
<dt id="celery.task.base.Task.apply_async">
<em class="property">classmethod </em><tt class="descclassname">Task.</tt><tt class="descname">apply_async</tt><big>(</big><em>args=None</em>, <em>kwargs=None</em>, <em>**options</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.apply_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Delay this task for execution by the <tt class="docutils literal"><span class="pre">celery</span></tt> daemon(s).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>args</em> &#8211; positional arguments passed on to the task.</li>
<li><em>kwargs</em> &#8211; keyword arguments passed on to the task.</li>
<li><em>**options</em> &#8211; Any keyword arguments to pass on to
<a title="celery.execute.apply_async" class="reference external" href="celery.execute.html#celery.execute.apply_async"><tt class="xref docutils literal"><span class="pre">celery.execute.apply_async()</span></tt></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>See <a title="celery.execute.apply_async" class="reference external" href="celery.execute.html#celery.execute.apply_async"><tt class="xref docutils literal"><span class="pre">celery.execute.apply_async()</span></tt></a> for more information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><a title="celery.result.AsyncResult" class="reference external" href="celery.result.html#celery.result.AsyncResult"><tt class="xref docutils literal"><span class="pre">celery.result.AsyncResult</span></tt></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="celery.task.base.Task.delay">
<em class="property">classmethod </em><tt class="descclassname">Task.</tt><tt class="descname">delay</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut to <a title="celery.task.base.Task.apply_async" class="reference internal" href="#celery.task.base.Task.apply_async"><tt class="xref docutils literal"><span class="pre">apply_async()</span></tt></a>, with star arguments,
but doesn&#8217;t support the extra options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>*args</em> &#8211; positional arguments passed on to the task.</li>
<li><em>**kwargs</em> &#8211; keyword arguments passed on to the task.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a title="celery.result.AsyncResult" class="reference external" href="celery.result.html#celery.result.AsyncResult"><tt class="xref docutils literal"><span class="pre">celery.result.AsyncResult</span></tt></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="celery.task.base.Task.establish_connection">
<em class="property">classmethod </em><tt class="descclassname">Task.</tt><tt class="descname">establish_connection</tt><big>(</big><em>connect_timeout=4</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.establish_connection" title="Permalink to this definition">¶</a></dt>
<dd>Establish a connection to the message broker.</dd></dl>

<dl class="method">
<dt id="celery.task.base.Task.execute">
<tt class="descclassname">Task.</tt><tt class="descname">execute</tt><big>(</big><em>wrapper</em>, <em>pool</em>, <em>loglevel</em>, <em>logfile</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>The method the worker calls to execute the task.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>wrapper</em> &#8211; A <a title="celery.worker.job.TaskWrapper" class="reference external" href="../internals/reference/celery.worker.job.html#celery.worker.job.TaskWrapper"><tt class="xref docutils literal"><span class="pre">celery.worker.job.TaskWrapper</span></tt></a>.</li>
<li><em>pool</em> &#8211; A <a title="celery.worker.pool.TaskPool" class="reference external" href="../internals/reference/celery.worker.pool.html#celery.worker.pool.TaskPool"><tt class="xref docutils literal"><span class="pre">celery.worker.pool.TaskPool</span></tt></a> object.</li>
<li><em>loglevel</em> &#8211; Current loglevel.</li>
<li><em>logfile</em> &#8211; Name of the currently used logfile.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="celery.task.base.Task.get_consumer">
<em class="property">classmethod </em><tt class="descclassname">Task.</tt><tt class="descname">get_consumer</tt><big>(</big><em>connection=None</em>, <em>connect_timeout=4</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.get_consumer" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a celery task message consumer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><a title="celery.messaging.TaskConsumer" class="reference external" href="celery.messaging.html#celery.messaging.TaskConsumer"><tt class="xref docutils literal"><span class="pre">celery.messaging.TaskConsumer</span></tt></a>.</td>
</tr>
</tbody>
</table>
<p>Please be sure to close the AMQP connection when you&#8217;re done
with this object. i.e.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">consumer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_consumer</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># do something with consumer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">consumer</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="celery.task.base.Task.get_logger">
<em class="property">classmethod </em><tt class="descclassname">Task.</tt><tt class="descname">get_logger</tt><big>(</big><em>loglevel=None</em>, <em>logfile=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.get_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Get process-aware logger object.</p>
<p>See <a title="celery.log.setup_logger" class="reference external" href="../internals/reference/celery.log.html#celery.log.setup_logger"><tt class="xref docutils literal"><span class="pre">celery.log.setup_logger()</span></tt></a>.</p>
</dd></dl>

<dl class="classmethod">
<dt id="celery.task.base.Task.get_publisher">
<em class="property">classmethod </em><tt class="descclassname">Task.</tt><tt class="descname">get_publisher</tt><big>(</big><em>connection=None</em>, <em>exchange=None</em>, <em>connect_timeout=4</em>, <em>exchange_type=None</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.get_publisher" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a celery task message publisher.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><a title="celery.messaging.TaskPublisher" class="reference external" href="celery.messaging.html#celery.messaging.TaskPublisher"><tt class="xref docutils literal"><span class="pre">celery.messaging.TaskPublisher</span></tt></a>.</td>
</tr>
</tbody>
</table>
<p>Please be sure to close the AMQP connection when you&#8217;re done
with this object, i.e.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">publisher</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_publisher</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># do something with publisher</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">publisher</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="celery.task.base.Task.on_failure">
<tt class="descclassname">Task.</tt><tt class="descname">on_failure</tt><big>(</big><em>exc</em>, <em>task_id</em>, <em>args</em>, <em>kwargs</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.on_failure" title="Permalink to this definition">¶</a></dt>
<dd><p>Error handler.</p>
<p>This is run by the worker when the task fails.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>exc</em> &#8211; The exception raised by the task.</li>
<li><em>task_id</em> &#8211; Unique id of the failed task.</li>
<li><em>args</em> &#8211; Original arguments for the task that failed.</li>
<li><em>kwargs</em> &#8211; Original keyword arguments for the task that failed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The return value of this handler is ignored.</p>
</dd></dl>

<dl class="method">
<dt id="celery.task.base.Task.on_retry">
<tt class="descclassname">Task.</tt><tt class="descname">on_retry</tt><big>(</big><em>exc</em>, <em>task_id</em>, <em>args</em>, <em>kwargs</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.on_retry" title="Permalink to this definition">¶</a></dt>
<dd><p>Retry handler.</p>
<p>This is run by the worker when the task is to be retried.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>exc</em> &#8211; The exception sent to <a title="celery.task.base.Task.retry" class="reference internal" href="#celery.task.base.Task.retry"><tt class="xref docutils literal"><span class="pre">retry()</span></tt></a>.</li>
<li><em>task_id</em> &#8211; Unique id of the retried task.</li>
<li><em>args</em> &#8211; Original arguments for the retried task.</li>
<li><em>kwargs</em> &#8211; Original keyword arguments for the retried task.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The return value of this handler is ignored.</p>
</dd></dl>

<dl class="method">
<dt id="celery.task.base.Task.on_success">
<tt class="descclassname">Task.</tt><tt class="descname">on_success</tt><big>(</big><em>retval</em>, <em>task_id</em>, <em>args</em>, <em>kwargs</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.on_success" title="Permalink to this definition">¶</a></dt>
<dd><p>Success handler.</p>
<p>Run by the worker if the task executes successfully.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>retval</em> &#8211; The return value of the task.</li>
<li><em>task_id</em> &#8211; Unique id of the executed task.</li>
<li><em>args</em> &#8211; Original arguments for the executed task.</li>
<li><em>kwargs</em> &#8211; Original keyword arguments for the executed task.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The return value of this handler is ignored.</p>
</dd></dl>

<dl class="attribute">
<dt>
<tt class="descclassname">Task.</tt><tt class="descname">rate_limit_queue_type</tt></dt>
<dd>alias of <tt class="xref docutils literal"><span class="pre">Queue</span></tt></dd></dl>

<dl class="classmethod">
<dt id="celery.task.base.Task.retry">
<em class="property">classmethod </em><tt class="descclassname">Task.</tt><tt class="descname">retry</tt><big>(</big><em>args=None</em>, <em>kwargs=None</em>, <em>exc=None</em>, <em>throw=True</em>, <em>**options</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.retry" title="Permalink to this definition">¶</a></dt>
<dd><p>Retry the task.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>args</em> &#8211; Positional arguments to retry with.</li>
<li><em>kwargs</em> &#8211; Keyword arguments to retry with.</li>
<li><em>exc</em> &#8211; Optional exception to raise instead of
<tt class="xref docutils literal"><span class="pre">MaxRestartsExceededError</span></tt> when the max restart limit has
been exceeded.</li>
<li><em>countdown</em> &#8211; Time in seconds to delay the retry for.</li>
<li><em>eta</em> &#8211; Explicit time and date to run the retry at (must be a
<tt class="xref docutils literal"><span class="pre">datetime.datetime</span></tt> instance).</li>
<li><em>**options</em> &#8211; Any extra options to pass on to
meth:<cite>apply_async</cite>. See <a title="celery.execute.apply_async" class="reference external" href="celery.execute.html#celery.execute.apply_async"><tt class="xref docutils literal"><span class="pre">celery.execute.apply_async()</span></tt></a>.</li>
<li><em>throw</em> &#8211; If this is <tt class="xref docutils literal"><span class="pre">False</span></tt>, do not raise the
<a title="celery.exceptions.RetryTaskError" class="reference external" href="celery.exceptions.html#celery.exceptions.RetryTaskError"><tt class="xref docutils literal"><span class="pre">celery.exceptions.RetryTaskError</span></tt></a> exception,
that tells the worker to mark the task as being retried.
Note that this means the task will be marked as failed
if the task raises an exception, or successful if it
returns.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">Raises <a title="celery.exceptions.RetryTaskError" class="reference external" href="celery.exceptions.html#celery.exceptions.RetryTaskError">celery.exceptions.RetryTaskError</a>:</th></tr>
<tr><td>&nbsp;</td><td class="field-body"><p class="first last">To tell the worker that the
task has been re-sent for retry. This always happens, unless
the <tt class="docutils literal"><span class="pre">throw</span></tt> keyword argument has been explicitly set
to <tt class="xref docutils literal"><span class="pre">False</span></tt>, and is considered normal operation.</p>
</td>
</tr>
</tbody>
</table>
<p>Example</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">TwitterPostStatusTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">twitter</span> <span class="o">=</span> <span class="n">Twitter</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">twitter</span><span class="o">.</span><span class="n">post_status</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">except</span> <span class="n">twitter</span><span class="o">.</span><span class="n">FailWhale</span><span class="p">,</span> <span class="n">exc</span><span class="p">:</span>
<span class="gp">... </span>            <span class="c"># Retry in 5 minutes.</span>
<span class="gp">... </span>            <span class="bp">self</span><span class="o">.</span><span class="n">retry</span><span class="p">([</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="n">message</span><span class="p">],</span> <span class="n">kwargs</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">countdown</span><span class="o">=</span><span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">,</span> <span class="n">exc</span><span class="o">=</span><span class="n">exc</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="celery.task.base.Task.run">
<tt class="descclassname">Task.</tt><tt class="descname">run</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#celery.task.base.Task.run" title="Permalink to this definition">¶</a></dt>
<dd><p>The body of the task executed by the worker.</p>
<p>The following standard keyword arguments are reserved and is passed
by the worker if the function/method supports them:</p>
<ul class="simple">
<li>task_id</li>
<li>task_name</li>
<li>task_retries</li>
<li>task_is_eager</li>
<li>logfile</li>
<li>loglevel</li>
<li>delivery_info</li>
</ul>
<p>Additional standard keyword arguments may be added in the future.
To take these default arguments, the task can either list the ones
it wants explicitly or just take an arbitrary list of keyword
arguments (**kwargs).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="celery.task.base.TaskSet">
<em class="property">class </em><tt class="descclassname">celery.task.base.</tt><tt class="descname">TaskSet</tt><big>(</big><em>task</em>, <em>args</em><big>)</big><a class="headerlink" href="#celery.task.base.TaskSet" title="Permalink to this definition">¶</a></dt>
<dd><p>A task containing several subtasks, making it possible
to track how many, or when all of the tasks has been completed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>task</em> &#8211; The task class or name.
Can either be a fully qualified task name, or a task class.</li>
<li><em>args</em> &#8211; A list of args, kwargs pairs.
e.g. <tt class="docutils literal"><span class="pre">[[args1,</span> <span class="pre">kwargs1],</span> <span class="pre">[args2,</span> <span class="pre">kwargs2],</span> <span class="pre">...,</span> <span class="pre">[argsN,</span> <span class="pre">kwargsN]]</span></tt></li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="celery.task.base.TaskSet.task_name">
<tt class="descname">task_name</tt><a class="headerlink" href="#celery.task.base.TaskSet.task_name" title="Permalink to this definition">¶</a></dt>
<dd>The name of the task.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.TaskSet.arguments">
<tt class="descname">arguments</tt><a class="headerlink" href="#celery.task.base.TaskSet.arguments" title="Permalink to this definition">¶</a></dt>
<dd>The arguments, as passed to the task set constructor.</dd></dl>

<dl class="attribute">
<dt id="celery.task.base.TaskSet.total">
<tt class="descname">total</tt><a class="headerlink" href="#celery.task.base.TaskSet.total" title="Permalink to this definition">¶</a></dt>
<dd>Total number of tasks in this task set.</dd></dl>

<p>Example</p>
<blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">djangofeeds.tasks</span> <span class="kn">import</span> <span class="n">RefreshFeedTask</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">taskset</span> <span class="o">=</span> <span class="n">TaskSet</span><span class="p">(</span><span class="n">RefreshFeedTask</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>                <span class="p">([],</span> <span class="p">{</span><span class="s">&quot;feed_url&quot;</span><span class="p">:</span> <span class="s">&quot;http://cnn.com/rss&quot;</span><span class="p">}),</span>
<span class="gp">... </span>                <span class="p">([],</span> <span class="p">{</span><span class="s">&quot;feed_url&quot;</span><span class="p">:</span> <span class="s">&quot;http://bbc.com/rss&quot;</span><span class="p">}),</span>
<span class="gp">... </span>                <span class="p">([],</span> <span class="p">{</span><span class="s">&quot;feed_url&quot;</span><span class="p">:</span> <span class="s">&quot;http://xkcd.com/rss&quot;</span><span class="p">})</span>
<span class="gp">... </span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">taskset_result</span> <span class="o">=</span> <span class="n">taskset</span><span class="o">.</span><span class="n">apply_async</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_of_return_values</span> <span class="o">=</span> <span class="n">taskset_result</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</pre></div>
</div>
</blockquote>
<dl class="method">
<dt id="celery.task.base.TaskSet.apply_async">
<tt class="descname">apply_async</tt><big>(</big><em>connect_timeout=4</em><big>)</big><a class="headerlink" href="#celery.task.base.TaskSet.apply_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Run all tasks in the taskset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">A <a title="celery.result.TaskSetResult" class="reference external" href="celery.result.html#celery.result.TaskSetResult"><tt class="xref docutils literal"><span class="pre">celery.result.TaskSetResult</span></tt></a> instance.</td>
</tr>
</tbody>
</table>
<p>Example</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">TaskSet</span><span class="p">(</span><span class="n">RefreshFeedTask</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>        <span class="p">([</span><span class="s">&quot;http://foo.com/rss&quot;</span><span class="p">],</span> <span class="p">{}),</span>
<span class="gp">... </span>        <span class="p">([</span><span class="s">&quot;http://bar.com/rss&quot;</span><span class="p">],</span> <span class="p">{}),</span>
<span class="gp">... </span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ts</span><span class="o">.</span><span class="n">apply_async</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">taskset_id</span>
<span class="go">&quot;d2c9b261-8eff-4bfb-8459-1e1b72063514&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">subtask_ids</span>
<span class="go">[&quot;b4996460-d959-49c8-aeb9-39c530dcde25&quot;,</span>
<span class="go">&quot;598d2d18-ab86-45ca-8b4f-0779f5d6a3cb&quot;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">waiting</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">ready</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">successful</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">failed</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
<span class="go">[True, True]</span>
</pre></div>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="celery.task.base.TaskSet.map">
<em class="property">classmethod </em><tt class="descname">map</tt><big>(</big><em>func</em>, <em>args</em>, <em>timeout=None</em><big>)</big><a class="headerlink" href="#celery.task.base.TaskSet.map" title="Permalink to this definition">¶</a></dt>
<dd>Distribute processing of the arguments and collect the results.</dd></dl>

<dl class="classmethod">
<dt id="celery.task.base.TaskSet.map_async">
<em class="property">classmethod </em><tt class="descname">map_async</tt><big>(</big><em>func</em>, <em>args</em>, <em>timeout=None</em><big>)</big><a class="headerlink" href="#celery.task.base.TaskSet.map_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Distribute processing of the arguments and collect the results
asynchronously.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><a title="celery.result.AsyncResult" class="reference external" href="celery.result.html#celery.result.AsyncResult"><tt class="xref docutils literal"><span class="pre">celery.result.AsyncResult</span></tt></a> instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="celery.task.base.TaskSet.remote_execute">
<em class="property">classmethod </em><tt class="descname">remote_execute</tt><big>(</big><em>func</em>, <em>args</em><big>)</big><a class="headerlink" href="#celery.task.base.TaskSet.remote_execute" title="Permalink to this definition">¶</a></dt>
<dd>Apply <tt class="docutils literal"><span class="pre">args</span></tt> to function by distributing the args to the
celery server(s).</dd></dl>

<dl class="method">
<dt id="celery.task.base.TaskSet.run">
<tt class="descname">run</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#celery.task.base.TaskSet.run" title="Permalink to this definition">¶</a></dt>
<dd>Deprecated alias to <a title="celery.task.base.TaskSet.apply_async" class="reference internal" href="#celery.task.base.TaskSet.apply_async"><tt class="xref docutils literal"><span class="pre">apply_async()</span></tt></a></dd></dl>

</dd></dl>

<dl class="class">
<dt id="celery.task.base.TaskType">
<em class="property">class </em><tt class="descclassname">celery.task.base.</tt><tt class="descname">TaskType</tt><a class="headerlink" href="#celery.task.base.TaskType" title="Permalink to this definition">¶</a></dt>
<dd><p>Metaclass for tasks.</p>
<p>Automatically registers the task in the task registry, except
if the <tt class="docutils literal"><span class="pre">abstract</span></tt> attribute is set.</p>
<p>If no <tt class="docutils literal"><span class="pre">name</span></tt> attribute is provided, the name is automatically
set to the name of the module it was defined in, and the class name.</p>
</dd></dl>

</div>


          </div> 
        </div>
      </div>
    <div class="footer">
    <p>
      &copy; Copyright 2009, Ask Solem.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
	</p>
    </div>
      <div class="clearer"></div>
    </div>
	<div id="breadcrumbs">
		<a href="index.html" accesskey="U">API Reference</a><img src="triangle_closed.png" alt="Right arrow">
		<a href="../index.html">Celery v1.0.1.pre2 (unstable) documentation</a>
		</ul>
	</div>
  </body>
</html>